<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Natural Language Processing – DSAN 6000 Big Data Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">DSAN 6000 Big Data Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./eda.html"> 
<span class="menu-text">EDA</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./nlp.html" aria-current="page"> 
<span class="menu-text">NLP</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ml.html"> 
<span class="menu-text">ML</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./conclusion.html"> 
<span class="menu-text">Conclusion</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#business-question-1-how-do-emotional-tones-in-relationship-discussions-vary-across-temporal-patterns" id="toc-business-question-1-how-do-emotional-tones-in-relationship-discussions-vary-across-temporal-patterns" class="nav-link" data-scroll-target="#business-question-1-how-do-emotional-tones-in-relationship-discussions-vary-across-temporal-patterns">Business Question 1: How do emotional tones in relationship discussions vary across temporal patterns?</a>
  <ul class="collapse">
  <li><a href="#findings" id="toc-findings" class="nav-link" data-scroll-target="#findings">Findings</a></li>
  </ul></li>
  <li><a href="#business-question-2-what-are-the-most-common-themes-from-topic-modeling-lda-or-bertopic-in-relationship-stories-e.g.-trust-issues-infidelity-family-pressure" id="toc-business-question-2-what-are-the-most-common-themes-from-topic-modeling-lda-or-bertopic-in-relationship-stories-e.g.-trust-issues-infidelity-family-pressure" class="nav-link" data-scroll-target="#business-question-2-what-are-the-most-common-themes-from-topic-modeling-lda-or-bertopic-in-relationship-stories-e.g.-trust-issues-infidelity-family-pressure">Business Question 2: : What are the most common themes from topic modeling (LDA or BERTopic) in relationship stories (e.g., trust issues, infidelity, family pressure)?</a>
  <ul class="collapse">
  <li><a href="#findings-1" id="toc-findings-1" class="nav-link" data-scroll-target="#findings-1">Findings</a></li>
  </ul></li>
  <li><a href="#business-question-3-do-writing-style-and-emotional-vocabulary-influence-community-engagement" id="toc-business-question-3-do-writing-style-and-emotional-vocabulary-influence-community-engagement" class="nav-link" data-scroll-target="#business-question-3-do-writing-style-and-emotional-vocabulary-influence-community-engagement">Business Question 3: Do writing style and emotional vocabulary influence community engagement?</a>
  <ul class="collapse">
  <li><a href="#findings-2" id="toc-findings-2" class="nav-link" data-scroll-target="#findings-2">Findings</a></li>
  </ul></li>
  <li><a href="#business-question-4-what-early-linguistic-markers-can-signal-whether-a-post-will-receive-high-engagement" id="toc-business-question-4-what-early-linguistic-markers-can-signal-whether-a-post-will-receive-high-engagement" class="nav-link" data-scroll-target="#business-question-4-what-early-linguistic-markers-can-signal-whether-a-post-will-receive-high-engagement">Business Question 4: What early linguistic markers can signal whether a post will receive high engagement?</a>
  <ul class="collapse">
  <li><a href="#findings-3" id="toc-findings-3" class="nav-link" data-scroll-target="#findings-3">Findings</a></li>
  </ul></li>
  <li><a href="#extended-sentiment-analysis-anger-vs.-joy" id="toc-extended-sentiment-analysis-anger-vs.-joy" class="nav-link" data-scroll-target="#extended-sentiment-analysis-anger-vs.-joy">Extended Sentiment Analysis: Anger vs.&nbsp;Joy</a>
  <ul class="collapse">
  <li><a href="#overall-sentiment-distribution" id="toc-overall-sentiment-distribution" class="nav-link" data-scroll-target="#overall-sentiment-distribution">Overall Sentiment Distribution</a></li>
  <li><a href="#sentiment-by-subreddit" id="toc-sentiment-by-subreddit" class="nav-link" data-scroll-target="#sentiment-by-subreddit">Sentiment by Subreddit</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a>
  <ul class="collapse">
  <li><a href="#answers-to-nlp-business-questions" id="toc-answers-to-nlp-business-questions" class="nav-link" data-scroll-target="#answers-to-nlp-business-questions">Answers to NLP Business Questions</a></li>
  <li><a href="#business-implications" id="toc-business-implications" class="nav-link" data-scroll-target="#business-implications">Business Implications</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Natural Language Processing</h1>
<p class="subtitle lead">Sentiment Analysis and Topic Modeling</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Milestone 2 Deliverable
</div>
</div>
<div class="callout-body-container callout-body">
<p>This page is populated during <strong>Milestone 2 (Week 5)</strong> with NLP findings.</p>
</div>
</div>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>This page presents NLP analysis addressing [3-4] NLP business questions through sentiment analysis, topic modeling, and text mining.</p>
</section>
<section id="business-question-1-how-do-emotional-tones-in-relationship-discussions-vary-across-temporal-patterns" class="level2">
<h2 class="anchored" data-anchor-id="business-question-1-how-do-emotional-tones-in-relationship-discussions-vary-across-temporal-patterns">Business Question 1: How do emotional tones in relationship discussions vary across temporal patterns?</h2>
<p><strong>Question:</strong> How do emotional tones in Reddit relationship discussions change across different temporal patterns (hour of day, weekday, and month), and what do these shifts reveal about user commenting behavior and community sentiment dynamics?</p>
<section id="findings" class="level3">
<h3 class="anchored" data-anchor-id="findings">Findings</h3>
<p><img src="../data/plots/nlp_problem1_hourly_emotion_trend.png" class="img-fluid"> <img src="../data/plots/nlp_problem1_monthly_emotion_trend.png" class="img-fluid"> <img src="../data/plots/nlp_problem1_weekday_emotion_trend.png" class="img-fluid"></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Negative emotions (especially fear and anger) are slightly elevated during late-night hours, suggesting that emotionally intense posts tend to occur after midnight.</li>
<li>Positive emotions increase during afternoon and evening periods, indicating that daytime discussions are more constructive and solution-oriented.</li>
<li>Sundays exhibit higher negative and fear-related emotion levels, while Wednesdays show the strongest positive sentiment, reflecting mid-week stability and weekend emotional volatility.</li>
<li>Positive emotions peak between March and May, accompanied by lower negative sentiment, suggesting a seasonal uplift in emotional tone during the spring months.</li>
</ul>
</section>
</section>
<section id="business-question-2-what-are-the-most-common-themes-from-topic-modeling-lda-or-bertopic-in-relationship-stories-e.g.-trust-issues-infidelity-family-pressure" class="level2">
<h2 class="anchored" data-anchor-id="business-question-2-what-are-the-most-common-themes-from-topic-modeling-lda-or-bertopic-in-relationship-stories-e.g.-trust-issues-infidelity-family-pressure">Business Question 2: : What are the most common themes from topic modeling (LDA or BERTopic) in relationship stories (e.g., trust issues, infidelity, family pressure)?</h2>
<p><strong>Question:</strong> Based on topic modeling results, what are the most common patterns or themes people discuss in relationship stories (e.g., trust issues, infidelity, emotional disconnect, family interference)?</p>
<section id="findings-1" class="level3">
<h3 class="anchored" data-anchor-id="findings-1">Findings</h3>
<p><strong>Key Insights:</strong></p>
<p>Here are the 15 identified topics from the LDA analysis, each described by their most representative keywords. These keywords suggest recurring themes and concerns in relationship-related texts:</p>
<ol type="1">
<li><p><strong>Topic 0</strong> – <em>confusion, uncertainty, hesitation in dating</em> <code>dont know, guard, maybe, mystery, what, keep, interest</code></p></li>
<li><p><strong>Topic 1</strong> – <em>texting dynamics, ghosting, interest loss</em> <code>follow, wait, response, start, message, lose, effort</code></p></li>
<li><p><strong>Topic 2</strong> – <em>rejection, desire, emotional struggle</em> <code>thought, want, reject, life, hard, accept</code></p></li>
<li><p><strong>Topic 3</strong> – <em>friendzone, attraction, assumptions</em> <code>safe, assume, never attract, met, friend, situation</code></p></li>
<li><p><strong>Topic 4</strong> – <em>sexual pressure, hesitation, asking consent</em> <code>ask, stop, think, want, great, sex</code></p></li>
<li><p><strong>Topic 5</strong> – <em>loyalty, lying, effort in relationship</em> <code>loyal, never lie, stay, effort, communicate</code></p></li>
<li><p><strong>Topic 6</strong> – <em>emotional manipulation, apology cycles</em> <code>manipul, apologize, hurt, change, promise</code></p></li>
<li><p><strong>Topic 7</strong> – <em>external opinions, self-esteem, judgment</em> <code>everyon, opinion, wrong, blame, better</code></p></li>
<li><p><strong>Topic 8</strong> – <em>infidelity, trust issues, jealousy</em> <code>cheat, talk, jealous, faith, betray</code></p></li>
<li><p><strong>Topic 9</strong> – <em>self-worth, validation, loneliness</em> <code>worth, lonely, need, validate, enough</code></p></li>
<li><p><strong>Topic 10</strong> – <em>sexual confusion, boundaries</em> <code>confus, stop, sex, unsure, chang</code></p></li>
<li><p><strong>Topic 11</strong> – <em>family interference, privacy</em> <code>mom, doctor, behind, back, health</code></p></li>
<li><p><strong>Topic 12</strong> – <em>ghosting, online dating, lack of closure</em> <code>match, multiple, date, disappear, effort</code></p></li>
<li><p><strong>Topic 13</strong> – <em>emotional dependence, clinginess, abandonment</em> <code>need, constant, reassure, left</code></p></li>
<li><p><strong>Topic 14</strong> – <em>future planning, commitment anxiety</em> <code>plan, future, scare, commit, big step</code></p></li>
</ol>
</section>
</section>
<section id="business-question-3-do-writing-style-and-emotional-vocabulary-influence-community-engagement" class="level2">
<h2 class="anchored" data-anchor-id="business-question-3-do-writing-style-and-emotional-vocabulary-influence-community-engagement">Business Question 3: Do writing style and emotional vocabulary influence community engagement?</h2>
<p><strong>Question:</strong> To what extent do writing-style features (post length, emotional vocabulary, question usage, and readability) predict community engagement measured by the number of comments?</p>
<section id="findings-2" class="level3">
<h3 class="anchored" data-anchor-id="findings-2">Findings</h3>
<p><img src="../data/plots/nlp_problem3_emotional_vocab_density_vs_num_comments.png" class="img-fluid"></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Emotional vocabulary density shows very weak relationship with comment count (corr ≈ 0.014), suggesting that using more emotional words does not meaningfully increase engagement.</li>
<li>Posts with more tokens receive slightly more comments (corr ≈ 0.087), making post length the strongest predictor among the examined features.</li>
<li>Question marks correlate marginally with engagement (corr ≈ 0.081), indicating that asking questions may offer a slight boost to response activity.</li>
<li>Readability score shows insignificant correlation with engagement (corr ≈ 0.017), implying that writing complexity does not shape community response.</li>
</ul>
</section>
</section>
<section id="business-question-4-what-early-linguistic-markers-can-signal-whether-a-post-will-receive-high-engagement" class="level2">
<h2 class="anchored" data-anchor-id="business-question-4-what-early-linguistic-markers-can-signal-whether-a-post-will-receive-high-engagement">Business Question 4: What early linguistic markers can signal whether a post will receive high engagement?</h2>
<p><strong>Question:</strong> Can we identify specific linguistic patterns—such as word choice, emotional tone, or message structure—that reliably predict whether a Reddit relationship post will receive high community engagement (comments)?</p>
<section id="findings-3" class="level3">
<h3 class="anchored" data-anchor-id="findings-3">Findings</h3>
<p><img src="../data/plots/nlp_problem4_top_words.png" class="img-fluid"></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>High- and low-engagement posts share similar core vocabulary, meaning engagement is not driven by unique or rare keywords.</li>
<li>But high-engagement posts use emotional-state verbs (“feel”, “want”, “dont”, “know”) more frequently, indicating stronger emotional disclosure.</li>
<li>They also contain more question marks, reflecting uncertainty, problem-solving needs, and explicit invitations for advice.</li>
<li>Overall, posts that read as vulnerable, emotionally expressive, and actively seeking guidance consistently draw more comments.</li>
</ul>
</section>
</section>
<section id="extended-sentiment-analysis-anger-vs.-joy" class="level2">
<h2 class="anchored" data-anchor-id="extended-sentiment-analysis-anger-vs.-joy">Extended Sentiment Analysis: Anger vs.&nbsp;Joy</h2>
<section id="overall-sentiment-distribution" class="level3">
<h3 class="anchored" data-anchor-id="overall-sentiment-distribution">Overall Sentiment Distribution</h3>
<p><img src="../data/plots/nlp_problem1_emotion_hist.png" class="img-fluid"></p>
<p>Using the NRC emotion lexicon, we computed emotion density for each Reddit comment—defined as the proportion of tokens associated with a given emotion. The histogram shows that both anger and joy densities are highly concentrated near zero, with long right-tailed distributions. This pattern indicates that most comments contain very few explicit emotional keywords, while a smaller subset exhibits substantially higher emotional intensity. Joy displays a broader spread than anger, suggesting that positive emotional expressions appear more frequently and with greater variability across the dataset. This overall distribution provides the baseline context for examining temporal and subgroup variations in emotional tone.</p>
</section>
<section id="sentiment-by-subreddit" class="level3">
<h3 class="anchored" data-anchor-id="sentiment-by-subreddit">Sentiment by Subreddit</h3>
<p>Our dataset is drawn exclusively from the subreddit r/relationship_advice, meaning all posts come from a single community. As a result, sentiment cannot be compared across multiple subreddits, and subreddit-level variation is not applicable in this context. Instead, our sentiment analysis focuses on within-subreddit patterns—specifically how emotional expression varies across time and across individual posts. This ensures that all observed sentiment differences are driven by user behavior rather than differences in community norms or discussion environments.</p>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<section id="answers-to-nlp-business-questions" class="level3">
<h3 class="anchored" data-anchor-id="answers-to-nlp-business-questions">Answers to NLP Business Questions</h3>
<ol type="1">
<li><strong>How do emotional tones in relationship discussions vary across temporal patterns?</strong>: Emotional tones show consistent temporal structure: negative emotions (especially fear and anger) increase modestly during late-night hours, while positive emotions rise during afternoon and evening periods. Sundays exhibit higher negative sentiment, whereas Wednesdays show the strongest positive tone. Positive emotions also peak between March and May, suggesting a seasonal uplift in emotional expression during the spring months.</li>
<li><strong>What are the most common themes from topic modeling (LDA or BERTopic) in relationship stories (e.g., trust issues, infidelity, family pressure)?</strong>: LDA topic modeling revealed several dominant themes in relationship stories, with the most common centered around infidelity and trust issues, communication problems (texting, ghosting), emotional insecurity, and modern dating challenges. These themes emerged naturally from keyword clusters and represent the recurring concerns that drive users to seek advice.</li>
<li><strong>Do writing style and emotional vocabulary influence community engagement?</strong>: Emotional vocabulary and writing-style features show only weak associations with engagement, indicating that comment volume is driven far more by content than by sentiment or stylistic choices.</li>
<li><strong>What early linguistic markers signal high engagement?</strong>: Early linguistic markers of high engagement are subtle rather than structural. High- and low-engagement posts have nearly identical length and lexical diversity, but high-engagement content shows a modestly higher use of question marks and slightly stronger prevalence of emotional-state verbs (“feel”, “want”, “dont”, “know”), indicating a greater tendency toward explicit uncertainty, emotional articulation, and invitation for interaction rather than differences in overall textual complexity.</li>
</ol>
<hr>
</section>
<section id="business-implications" class="level3">
<h3 class="anchored" data-anchor-id="business-implications">Business Implications</h3>
<ul>
<li><p><strong>Peak negative emotion periods (late night, Sundays)</strong> indicate when users are most likely to seek urgent or emotionally charged support. Platforms or moderators could allocate resources to these time windows to improve response quality and community safety.</p></li>
<li><p><strong>Dominant themes such as infidelity, trust breakdown, communication failure, and insecurity</strong> highlight core user pain points. These insights can guide targeted content strategies, automated FAQ suggestions, or personalized support tools addressing high-frequency relationship stressors.</p></li>
<li><p><strong>Weak influence of writing style on engagement</strong> suggests that platform engagement is content-driven rather than presentation-driven. This reduces emphasis on linguistic coaching and instead supports surfacing posts with substantive relational dilemmas.</p></li>
<li><p><strong>Early indicators of high engagement—greater use of emotional-state verbs and question-oriented phrasing</strong>—suggest opportunities for features that detect posts requiring community attention. Automated triage or “potential high-impact post” flags could help moderators or support agents prioritize emotionally complex cases.</p></li>
</ul>
<p>Overall, these findings reveal predictable emotional rhythms, recurring thematic concerns, and subtle linguistic signals that can inform community management, content recommendation, and user-support strategies for relationship-focused online platforms.</p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>All NLP code is in <code>code/nlp/</code> directory.</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>DSAN 6000 Big Data Analytics Project</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Made with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>